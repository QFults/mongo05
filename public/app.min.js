"serviceWorker" in navigator && window.addEventListener("load", () => { navigator.serviceWorker.register("/service-worker.min.js").then(e => console.log(e)) }); const getAllItems = () => { axios.get("/api/items").then(({ data: e }) => { document.getElementById("items").innerHTML = "", e.forEach(e => { let t = document.createElement("li"); e.isDone && (t.style.color = "green"), t.textContent = e.text, document.getElementById("items").append(t) }) }) }; document.getElementById("addItem").addEventListener("click", e => { e.preventDefault(), axios.post("/api/items", { text: document.getElementById("item").value, isDone: !1 }).then(({ data: e }) => { let t = document.createElement("li"); t.textContent = e.text, document.getElementById("items").append(t), document.getElementById("item").value = "" }).catch(e => { console.log(e), saveItem({ text: document.getElementById("item").value, isDone: !1 }), document.getElementById("item").value = "" }) }), axios.get("/api/items").then(({ data: e }) => { document.getElementById("items").innerHTML = "", e.forEach(e => { let t = document.createElement("li"); e.isDone && (t.style.color = "green"), t.textContent = e.text, document.getElementById("items").append(t) }) });